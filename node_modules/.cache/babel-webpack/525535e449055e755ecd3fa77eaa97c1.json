{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\n\nfunction HomeComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelementStart(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_10_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.closeVideoPlayer();\n    });\n    i0.ɵɵtext(2, \"Exit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"iframe\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.videoUrl, i0.ɵɵsanitizeResourceUrl);\n  }\n}\n\nfunction HomeComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"div\", 12);\n    i0.ɵɵelement(2, \"img\", 13);\n    i0.ɵɵelementStart(3, \"div\", 14);\n    i0.ɵɵelementStart(4, \"h5\", 15);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"p\", 16);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function HomeComponent_div_15_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const song_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.watchVideo(song_r4.id.videoId);\n    });\n    i0.ɵɵtext(9, \"Watch Now\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const song_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", song_r4.snippet.thumbnails.medium.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(song_r4.snippet.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r4.snippet.description);\n  }\n}\n\nexport let HomeComponent = /*#__PURE__*/(() => {\n  class HomeComponent {\n    constructor(http, sanitizer, router) {\n      this.http = http;\n      this.sanitizer = sanitizer;\n      this.router = router;\n      this.searchQuery = '';\n      this.apiKey = environment.youtubeApiKey; // Using API key from environment.ts\n\n      this.arianaSongs = [];\n      this.days = 0;\n      this.hours = 0;\n      this.minutes = 0;\n      this.seconds = 0;\n      this.countdownDate = new Date('March 7, 2024 00:00:00');\n      this.calculateCountdown();\n      this.countdown = setInterval(() => {\n        this.calculateCountdown();\n      }, 1000);\n    }\n\n    calculateCountdown() {\n      const now = new Date().getTime();\n      const distance = this.countdownDate.getTime() - now;\n\n      if (distance <= 0) {\n        clearInterval(this.countdown); // Handle countdown completion\n      } else {\n        this.days = Math.floor(distance / (1000 * 60 * 60 * 24));\n        this.hours = Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n        this.minutes = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n        this.seconds = Math.floor(distance % (1000 * 60) / 1000);\n      }\n    }\n\n    onSearch() {\n      if (this.searchQuery.trim() !== '') {\n        this.searchVideos(); // Call the searchVideos method to navigate to search result page\n      }\n    }\n\n    searchVideos() {\n      console.log('Search query:', this.searchQuery); // Log search query\n\n      const apiUrl = `https://www.googleapis.com/youtube/v3/search?key=${this.apiKey}&q=${this.searchQuery}&part=snippet&type=video`;\n      this.http.get(apiUrl).subscribe(response => {\n        console.log('Search response:', response); // Log search response\n\n        this.router.navigate(['/searchresult'], {\n          queryParams: {\n            q: this.searchQuery,\n            results: JSON.stringify(response.items)\n          }\n        });\n      });\n    }\n\n    ngOnInit() {\n      this.fetchArianaSongs();\n    }\n\n    fetchArianaSongs() {\n      const maxResults = 30;\n      const apiUrl = `https://www.googleapis.com/youtube/v3/search?key=${this.apiKey}&q=ariana+grande&part=snippet&type=video&maxResults=${maxResults}`;\n      this.http.get(apiUrl).subscribe(response => {\n        this.arianaSongs = response.items;\n      });\n    }\n\n    watchVideo(videoId) {\n      const videoUrl = `https://www.youtube.com/embed/${videoId}`;\n      this.videoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(videoUrl);\n    }\n\n    closeVideoPlayer() {\n      this.videoUrl = undefined;\n    }\n\n    goToVideo(videoId) {\n      this.router.navigate(['/video'], {\n        queryParams: {\n          videoId\n        }\n      });\n    }\n\n  }\n\n  HomeComponent.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.DomSanitizer), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  HomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 19,\n    vars: 6,\n    consts: [[1, \"hero-container\"], [1, \"overlay\"], [1, \"content\"], [1, \"hero-title\"], [\"class\", \"video-container\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\", \"song-list\"], [\"class\", \"col-lg-4 col-md-6 col-sm-12 mb-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"video-container\"], [1, \"exit-button\", 3, \"click\"], [\"allowfullscreen\", \"\", 1, \"embed-responsive-item\", 3, \"src\"], [1, \"col-lg-4\", \"col-md-6\", \"col-sm-12\", \"mb-4\"], [1, \"card\", \"h-100\"], [\"alt\", \"Thumbnail\", 1, \"card-img-top\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\"], [1, \"btn\", 3, \"click\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\");\n        i0.ɵɵelementStart(4, \"h1\", 3);\n        i0.ɵɵtext(5, \"Countdown to Eternal Sunshine Album \");\n        i0.ɵɵelement(6, \"br\");\n        i0.ɵɵtext(7, \"7th March 2024 12:00 AM\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"h3\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, HomeComponent_div_10_Template, 4, 1, \"div\", 4);\n        i0.ɵɵelementStart(11, \"div\", 5);\n        i0.ɵɵelementStart(12, \"h1\");\n        i0.ɵɵtext(13, \"Top Picks Just for You\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 6);\n        i0.ɵɵtemplate(15, HomeComponent_div_15_Template, 10, 3, \"div\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"footer\");\n        i0.ɵɵelementStart(17, \"p\");\n        i0.ɵɵtext(18, \"All Right Reserved | GrandeVibes \\u00A9 2024. Design and Development by Ammar Hafiz\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate4(\"\", ctx.days, \" days, \", ctx.hours, \" hours, \", ctx.minutes, \" minutes, \", ctx.seconds, \" seconds\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.videoUrl);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.arianaSongs);\n      }\n    },\n    directives: [i4.NgIf, i4.NgForOf],\n    styles: [\"@font-face{font-family:\\\"Eternal Sunshine\\\";src:url(\\\"eternal sunshine typeface.fcc6151d0b1834117bd9.ttf\\\") format(\\\"truetype\\\")}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], button[_ngcontent-%COMP%], p[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{font-family:\\\"Eternal Sunshine\\\",sans-serif}.hero-container[_ngcontent-%COMP%]{filter:blur(80%);height:100vh}.form-control[_ngcontent-%COMP%]{font-size:20px;font-weight:bold}.overlay[_ngcontent-%COMP%]{background-image:url(hero.be7a054c3d860e562f79.jpg);background-size:cover;background-position:center center;background-repeat:no-repeat;position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;justify-content:center;align-items:center;text-align:center;z-index:1;background-attachment:scroll}[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}html[_ngcontent-%COMP%]{scrollbar-width:none}body[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none}h1[_ngcontent-%COMP%]{font-size:45px;text-align:center;padding-top:100px;padding-bottom:50px}.btn[_ngcontent-%COMP%]{background-color:transparent;border:1px solid white;color:#fff;width:100%}.btn[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#fff;color:#000}.content[_ngcontent-%COMP%]{z-index:2}.search-form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}.search-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.search-form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]{transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}@media (max-width: 768px){.search-form[_ngcontent-%COMP%]{max-width:none;width:100%}}.hero-title[_ngcontent-%COMP%]{font-size:100px;overflow:hidden;border-right:.005em solid rgb(255,255,255);white-space:nowrap;margin:0 auto;padding:10px;display:inline-block;width:auto;animation:typing 3s steps(20,end),blink-caret .75s step-end infinite;font-size:40px}@keyframes typing{0%{width:0}to{width:100%}}.btn-primary[_ngcontent-%COMP%]{background-color:#f96332;border-color:#f96332}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#d9411e;border-color:#d9411e}.song-list[_ngcontent-%COMP%]{color:#fff;padding:0}.video-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#000;z-index:9999;padding:20px}.embed-responsive-item[_ngcontent-%COMP%]{width:100%;height:calc(100% - 40px)}.exit-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background-color:#b80000;color:#fff;border-radius:30px;padding:10px 20px;font-size:16px;cursor:pointer;z-index:10000}.exit-button[_ngcontent-%COMP%]:hover{background-color:#ccc}footer[_ngcontent-%COMP%]{background-color:#290000;padding:10px;text-align:center;position:absolute;width:100%;bottom:5;left:0}\"]\n  });\n  return HomeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}